# üõ†Ô∏è SSH - Ansible Proxmox Automation
# üß∞ How the complete script works
Requesting IP input: The user enters a list of IPs of the Proxmox containers.
Copying the public key: The public key is copied to each specified container.
Changing SSH configurations: Each container is configured to:
Enable authentication via public key.
Configure the authorised key file.
Disable direct SSH login of the root user.
Repeat for each IP: The process is repeated for each IP provided by the user

Translated with DeepL.com (free version)


This is the script made:

modify_ssh_config() {
    local host_ip=$1
    echo "Modificando il file sshd_config su $host_ip..."
    ssh "$host_ip" "sed -i 's/^#PubkeyAuthentication yes/PubkeyAuthentication yes/' /etc/ssh/sshd_config"
    ssh "$host_ip" "sed -i 's/^#AuthorizedKeysFile/AuthorizedKeysFile/' /etc/ssh/sshd_config"
    ssh "$host_ip" "sed -i 's/^PermitRootLogin yes/#PermitRootLogin yes/' /etc/ssh/sshd_config"
                echo "File sshd_config modificato su $host_ip."
    
}
# Ask for remote IP address prompt
read -p "Inserisci gli indirizzi IP degli host remoti (separati da spazio): " host_ips

# For every host
for host_ip in $host_ips; do
    copy_public_key "$host_ip"
    modify_ssh_config "$host_ip"
done

## Profile Overview üìã

### Overview üåü

This profile simplifies tasks related to Milestone Recording Servers and associated devices within your PowerShell environment. It's a collection of functions aimed at providing convenience and efficiency.

### Functions üß∞

#### Get-HardwareInfo üíª
